{"version":3,"sources":["webpack:///./src/layouts/docs.tsx","webpack:///./src/pages/docs/server-annotated-service.mdx"],"names":["DocsLayout","props","candidateMdxNodes","useStaticQuery","allMdx","nodes","index","docsIndex","prefix","pageTitleSuffix","pageTitle","_frontmatter","makeShortcode","name","console","warn","Tip","Warning","RequiredDependencies","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","boms","groupId","artifactId","dependencies","isMDXComponent"],"mappings":"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","file":"component---src-pages-docs-server-annotated-service-mdx-072d332b83e490f2071c.js","sourcesContent":["import { RouteComponentProps } from '@reach/router';\nimport { graphql, useStaticQuery } from 'gatsby';\nimport React from 'react';\n\nimport docsIndex from '../pages/docs/toc.json';\nimport MdxLayout from './mdx';\n\ninterface DocsLayoutProps extends RouteComponentProps {\n  pageContext: any;\n  pageTitle: string;\n}\n\nconst DocsLayout: React.FC<DocsLayoutProps> = (props) => {\n  const {\n    allMdx: { nodes: candidateMdxNodes },\n  } = useStaticQuery(graphql`\n    query {\n      allMdx(filter: { fileAbsolutePath: { glob: \"**/src/pages/docs/**\" } }) {\n        nodes {\n          tableOfContents(maxDepth: 1)\n          excerpt(pruneLength: 256, truncate: true)\n          parent {\n            ... on File {\n              sourceInstanceName\n              name\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  return (\n    <MdxLayout\n      {...props}\n      candidateMdxNodes={candidateMdxNodes}\n      index={docsIndex}\n      prefix=\"docs\"\n      pageTitleSuffix=\"Armeria documentation\"\n    />\n  );\n};\n\nexport default DocsLayout;\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/minu/IdeaProjects/armeria/site/src/layouts/docs.tsx\";\nexport const pageTitle = \"Annotated services\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Tip = makeShortcode(\"Tip\");\nconst Warning = makeShortcode(\"Warning\");\nconst RequiredDependencies = makeShortcode(\"RequiredDependencies\");\nconst layoutProps = {\n  pageTitle,\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <h1 {...{\n      \"id\": \"annotated-services\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h1\" {...{\n        \"href\": \"#annotated-services\",\n        \"aria-label\": \"annotated services permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Annotated services`}</h1>\n    <h6 {...{\n      \"className\": \"inlinePageToc\",\n      \"role\": \"navigation\"\n    }}>{`Table of contents`}</h6>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#mapping-http-service-methods\"\n          }}>{`Mapping HTTP service methods`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#parameter-injection\"\n          }}>{`Parameter injection`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#injecting-a-parameter-as-an-enum-type\"\n            }}>{`Injecting a parameter as an Enum type`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#getting-a-query-parameter\"\n            }}>{`Getting a query parameter`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#getting-an-http-header\"\n            }}>{`Getting an HTTP header`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#other-classes-automatically-injected\"\n            }}>{`Other classes automatically injected`}</a></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#handling-exceptions\"\n          }}>{`Handling exceptions`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#conversion-between-an-http-message-and-a-java-object\"\n          }}>{`Conversion between an HTTP message and a Java object`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">\n            <p parentName=\"li\"><a parentName=\"p\" {...{\n                \"href\": \"#converting-an-http-request-to-a-java-object\"\n              }}>{`Converting an HTTP request to a Java object`}</a></p>\n            <ul parentName=\"li\">\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#injecting-value-of-parameters-and-http-headers-into-a-java-object\"\n                }}>{`Injecting value of parameters and HTTP headers into a Java object`}</a></li>\n            </ul>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\"><a parentName=\"p\" {...{\n                \"href\": \"#converting-a-java-object-to-an-http-response\"\n              }}>{`Converting a Java object to an HTTP response`}</a></p>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#using-serverbuilder-to-configure-converters-and-exception-handlers\"\n          }}>{`Using ServerBuilder to configure converters and exception handlers`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#returning-a-response\"\n          }}>{`Returning a response`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#decorating-an-annotated-service\"\n          }}>{`Decorating an annotated service`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#decorating-an-annotated-service-with-a-custom-decorator-annotation\"\n            }}>{`Decorating an annotated service with a custom decorator annotation`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#evaluation-order-of-decorators\"\n            }}>{`Evaluation order of decorators`}</a></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#media-type-negotiation\"\n          }}>{`Media type negotiation`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#creating-user-defined-media-type-annotations\"\n            }}>{`Creating user-defined media type annotations`}</a></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#specifying-additional-response-headerstrailers\"\n          }}>{`Specifying additional response headers/trailers`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#using-a-composite-annotation\"\n          }}>{`Using a composite annotation`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#specifying-the-service-name\"\n          }}>{`Specifying the service name`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"#kotlin-coroutines-support\"\n          }}>{`Kotlin coroutines support`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#coroutine-dispatcher\"\n            }}>{`Coroutine dispatcher`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#coroutinecontextservice-decorator\"\n            }}>{`CoroutineContextService decorator`}</a></li>\n        </ul>\n      </li>\n    </ul>\n    <Tip mdxType=\"Tip\">\n      <p>{`Visit `}<a parentName=\"p\" {...{\n          \"href\": \"https://github.com/line/armeria-examples\"\n        }}>{`armeria-examples`}</a>{` to find a fully working example.`}</p>\n    </Tip>\n    <p>{`Armeria provides a way to write an HTTP service using annotations. It helps a user make his or her code\nsimple and easy to understand. A user is able to run an HTTP service by fewer lines of code using\nannotations as follows. `}<inlineCode parentName=\"p\">{`hello()`}</inlineCode>{` method in the example would be mapped to the path of `}<inlineCode parentName=\"p\">{`/hello/{name}`}</inlineCode>{`\nwith an HTTP `}<inlineCode parentName=\"p\">{`GET`}</inlineCode>{` method.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`ServerBuilder sb = Server.builder();\nsb.annotatedService(new Object() {\n    @Get(\"/hello/{name}\")\n    public HttpResponse hello(@Param(\"name\") String name) {\n        return HttpResponse.of(HttpStatus.OK,\n                               MediaType.PLAIN_TEXT_UTF_8,\n                               \"Hello, %s!\", name);\n    }\n});\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"mapping-http-service-methods\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#mapping-http-service-methods\",\n        \"aria-label\": \"mapping http service methods permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Mapping HTTP service methods`}</h2>\n    <p>{`To map a service method in an annotated HTTP service class to an HTTP path, it has to be annotated with one of\nHTTP method annotations. The following is the list of HTTP method annotations where each of them is mapped\nto an HTTP method.`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://@Get:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Get.html\"\n        }}>{`type://@Get`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://@Head:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Head.html\"\n        }}>{`type://@Head`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://@Post:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Post.html\"\n        }}>{`type://@Post`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://@Put:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Put.html\"\n        }}>{`type://@Put`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://@Delete:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Delete.html\"\n        }}>{`type://@Delete`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://@Options:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Options.html\"\n        }}>{`type://@Options`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://@Patch:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Patch.html\"\n        }}>{`type://@Patch`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://@Trace:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Trace.html\"\n        }}>{`type://@Trace`}</a></li>\n    </ul>\n    <p>{`To handle an HTTP request with a service method, you can annotate your service method simply as follows.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n    @Get(\"/hello\")\n    public HttpResponse hello() { ... }\n}\n`}</code></pre>\n    <p>{`There are 5 different path types that you can define:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Exact path, e.g. `}<inlineCode parentName=\"p\">{`/hello`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`exact:/hello`}</inlineCode></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`a service method will handle the path exactly matched with the specified path.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Prefix path, e.g. `}<inlineCode parentName=\"p\">{`prefix:/hello`}</inlineCode></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`a service method will handle every path which starts with the specified prefix.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Path containing path variables, e.g `}<inlineCode parentName=\"p\">{`/hello/{name}`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`/hello/:name`}</inlineCode></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`a service method will handle the path matched with the specified path pattern. A path variable in the\nspecified pattern may be mapped to a parameter of the service method.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Regular expression path, e.g. `}<inlineCode parentName=\"p\">{`regex:^/hello/(?<name>.*)$`}</inlineCode></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`a service method will handle the path matched with the specified regular expression. If a named capturing\ngroup exists in the regular expression, it may be mapped to a parameter of the service method.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Glob pattern path, e.g. `}<inlineCode parentName=\"p\">{`glob:/*/hello/**`}</inlineCode></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`a service method will handle the path matched with the specified glob pattern. Each wildcard is mapped to\nan index which starts with `}<inlineCode parentName=\"li\">{`0`}</inlineCode>{`, so it may be mapped to a parameter of the service method.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <p>{`You can get the value of a path variable, a named capturing group of the regular expression or wildcards of\nthe glob pattern in your service method by annotating a parameter with `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Param:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html\"\n      }}>{`type://@Param`}</a>{` as follows.\nPlease refer to `}<a parentName=\"p\" {...{\n        \"href\": \"#parameter-injection\"\n      }}>{`Parameter injection`}</a>{` for more information about `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Param:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html\"\n      }}>{`type://@Param`}</a>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Get(\"/hello/{name}\")\n    public HttpResponse pathVar(@Param(\"name\") String name) { ... }\n\n    @Get(\"regex:^/hello/(?<name>.*)$\")\n    public HttpResponse regex(@Param(\"name\") String name) { ... }\n\n    @Get(\"glob:/*/hello/**\")\n    public HttpResponse glob(@Param(\"0\") String prefix,\n                             @Param(\"1\") String name) { ... }\n}\n`}</code></pre>\n    <p>{`Every service method in the examples so far had a single HTTP method annotation with it. What if you want\nto map more than one HTTP method or path to your service method? You can use `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Path:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Path.html\"\n      }}>{`type://@Path`}</a>{` annotations to\nspecify multiple paths, and use the HTTP method annotations without a path to map multiple HTTP methods, e.g.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n    @Get\n    @Post\n    @Put\n    @Delete\n    @Path(\"/hello\")\n    @Path(\"/hi\")\n    public HttpResponse greeting() { ... }\n}\n`}</code></pre>\n    <p>{`Every service method assumes that it returns an HTTP response with `}<inlineCode parentName=\"p\">{`200 OK`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`204 No Content`}</inlineCode>{` status\naccording to its return type. If the return type is `}<inlineCode parentName=\"p\">{`void`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`Void`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`204 No Content`}</inlineCode>{` would be applied.\n`}<inlineCode parentName=\"p\">{`200 OK`}</inlineCode>{` would be applied for the other types. If you want to return an alternative status code for a method,\nyou can use `}<a parentName=\"p\" {...{\n        \"href\": \"type://@StatusCode:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/StatusCode.html\"\n      }}>{`type://@StatusCode`}</a>{` annotation as follows.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @StatusCode(201)\n    @Post(\"/users/{name}\")\n    public User createUser(@Param(\"name\") String name) { ... }\n\n    // @StatusCode(200) would be applied by default.\n    @Get(\"/users/{name}\")\n    public User getUser(@Param(\"name\") String name) { ... }\n\n    // @StatusCode(204) would be applied by default.\n    @Delete(\"/users/{name}\")\n    public void deleteUser(@Param(\"name\") String name) { ... }\n}\n`}</code></pre>\n    <p>{`You can define a service method which handles a request only if it contains a header or parameter the method\nrequires. The following methods are bound to the same path `}<inlineCode parentName=\"p\">{`/users`}</inlineCode>{` but a request may be routed based on the\n`}<inlineCode parentName=\"p\">{`client-type`}</inlineCode>{` header.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    // Handles a request which contains 'client-type: android' header.\n    @Get(\"/users\")\n    @MatchesHeader(\"client-type=android\")\n    public User getUsers1() { ... }\n\n    // Handles a request which contains 'client-type' header.\n    // Any values of the 'client-type' header are accepted.\n    @Get(\"/users\")\n    @MatchesHeader(\"client-type\")\n    public User getUsers2() { ... }\n\n    // Handles a request which doesn't contain 'client-type' header.\n    @Get(\"/users\")\n    public User getUsers3() { ... }\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"parameter-injection\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#parameter-injection\",\n        \"aria-label\": \"parameter injection permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Parameter injection`}</h2>\n    <p>{`Let's see the example in the above section again.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Get(\"/hello/{name}\")\n    public HttpResponse pathvar(@Param(\"name\") String name) { ... }\n\n    @Get(\"regex:^/hello/(?<name>.*)$\")\n    public HttpResponse regex(@Param(\"name\") String name) { ... }\n\n    @Get(\"glob:/*/hello/**\")\n    public HttpResponse glob(@Param(\"0\") String prefix,\n                             @Param(\"1\") String name) { ... }\n}\n`}</code></pre>\n    <p>{`A value of a parameter `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{` is automatically injected as a `}<inlineCode parentName=\"p\">{`String`}</inlineCode>{` by Armeria.\nArmeria will try to convert the value appropriately if the parameter type is not `}<inlineCode parentName=\"p\">{`String`}</inlineCode>{`.\n`}<inlineCode parentName=\"p\">{`IllegalArgumentException`}</inlineCode>{` will be raised if the conversion fails or the parameter type is not\none of the following supported types:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Primitive types and their wrapper types:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`boolean`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`Boolean`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`byte`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`Byte`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`short`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`Short`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`integer`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`Integer`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`long`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`Long`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`float`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`Float`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`double`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`Double`}</inlineCode></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">{`Well-known JDK classes:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`String`}</inlineCode>{`, `}<inlineCode parentName=\"li\">{`CharSequence`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`AsciiString`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`Enum`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`UUID`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`java.time`}</inlineCode>{` package classes`}\n            <ul parentName=\"li\">\n              <li parentName=\"ul\"><inlineCode parentName=\"li\">{`Instant`}</inlineCode></li>\n              <li parentName=\"ul\"><inlineCode parentName=\"li\">{`Duration`}</inlineCode>{` and  `}<inlineCode parentName=\"li\">{`Period`}</inlineCode></li>\n              <li parentName=\"ul\"><inlineCode parentName=\"li\">{`LocalDate`}</inlineCode>{`, `}<inlineCode parentName=\"li\">{`LocalDateTime`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`LocalTime`}</inlineCode>{`,`}</li>\n              <li parentName=\"ul\"><inlineCode parentName=\"li\">{`OffsetDateTime`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`OffsetTime`}</inlineCode></li>\n              <li parentName=\"ul\"><inlineCode parentName=\"li\">{`ZonedDateTime`}</inlineCode>{`, `}<inlineCode parentName=\"li\">{`ZoneId`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`ZoneOffset`}</inlineCode></li>\n            </ul>\n          </li>\n        </ul>\n      </li>\n    </ul>\n    <p>{`Note that you can omit the value of `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Param:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html\"\n      }}>{`type://@Param`}</a>{` if you compiled your code with `}<inlineCode parentName=\"p\">{`-parameters`}</inlineCode>{` javac\noption. In this case the variable name is used as the value.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n    @Get(\"/hello/{name}\")\n    public HttpResponse hello1(@Param String name) { ... }\n}\n`}</code></pre>\n    <p>{`Please refer to `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/setup#configure--parameters-javac-option\"\n      }}>{`Configure -parameters javac option`}</a>{`\nfor more information.`}</p>\n    <h3 {...{\n      \"id\": \"injecting-a-parameter-as-an-enum-type\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#injecting-a-parameter-as-an-enum-type\",\n        \"aria-label\": \"injecting a parameter as an enum type permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Injecting a parameter as an `}<inlineCode parentName=\"h3\">{`Enum`}</inlineCode>{` type`}</h3>\n    <p><inlineCode parentName=\"p\">{`Enum`}</inlineCode>{` type is also automatically converted if you annotate a parameter of your service method with\n`}<a parentName=\"p\" {...{\n        \"href\": \"type://@Param:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html\"\n      }}>{`type://@Param`}</a>{` annotation. If your `}<inlineCode parentName=\"p\">{`Enum`}</inlineCode>{` type can be handled in a case-insensitive way, Armeria\nautomatically converts the string value of a parameter to a value of `}<inlineCode parentName=\"p\">{`Enum`}</inlineCode>{` in a case-insensitive way.\nOtherwise, case-sensitive exact match will be performed.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public enum CaseInsensitive {\n    ALPHA, BRAVO, CHARLIE\n}\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public enum CaseSensitive {\n    ALPHA, alpha\n}\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Get(\"/hello1/{there}\")\n    public HttpResponse hello1(@Param(\"there\") CaseInsensitive there) {\n        // 'there' is converted in a case-insensitive way.\n    }\n\n    @Get(\"/hello2/{there}\")\n    public HttpResponse hello2(@Param(\"there\") CaseSensitive there) {\n        // 'there' must be converted in a case-sensitive way.\n        // So 'ALPHA' and 'alpha' are only acceptable.\n    }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"getting-a-query-parameter\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#getting-a-query-parameter\",\n        \"aria-label\": \"getting a query parameter permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Getting a query parameter`}</h3>\n    <p>{`When the value of `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Param:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html\"\n      }}>{`type://@Param`}</a>{` annotation is not shown in the path pattern, it will be handled as a\nparameter name of the query string of the request. If you have a service class like the example below and\na user sends an HTTP `}<inlineCode parentName=\"p\">{`GET`}</inlineCode>{` request with URI of `}<inlineCode parentName=\"p\">{`/hello1?name=armeria`}</inlineCode>{`, the service method will get `}<inlineCode parentName=\"p\">{`armeria`}</inlineCode>{`\nas the value of parameter `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{`.`}</p>\n    <p>{`If there is no parameter named `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{` in the query string, the service method that requires it will not be\ninvoked, but the client will get a `}<inlineCode parentName=\"p\">{`400 Bad Request`}</inlineCode>{` response.  If you want to allow `}<inlineCode parentName=\"p\">{`null`}</inlineCode>{` to be injected,\nyou can use `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Default:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Default.html\"\n      }}>{`type://@Default`}</a>{` annotation, `}<inlineCode parentName=\"p\">{`@Nullable`}</inlineCode>{` annotation or `}<inlineCode parentName=\"p\">{`Optional<?>`}</inlineCode>{` class, like demonstrated\nbelow in `}<inlineCode parentName=\"p\">{`hello2()`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`hello3()`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`hello4()`}</inlineCode>{` methods:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Get(\"/hello1\")\n    // Will not be invoked but return a 400 status when 'name' parameter is missing.\n    public HttpResponse hello1(@Param(\"name\") String name) { ... }\n\n    @Get(\"/hello2\")\n    public HttpResponse hello2(@Param(\"name\") @Default(\"armeria\") String name) { ... }\n\n    @Get(\"/hello3\")\n    public HttpResponse hello3(@Param(\"name\") @Nullable String name) {\n        String clientName = name != null ? name : \"armeria\";\n        // ...\n    }\n\n    @Get(\"/hello4\")\n    public HttpResponse hello4(@Param(\"name\") Optional<String> name) {\n        String clientName = name.orElse(\"armeria\");\n        // ...\n    }\n}\n`}</code></pre>\n    <Tip mdxType=\"Tip\">\n      <p><inlineCode parentName=\"p\">{`@Nullable`}</inlineCode>{` annotation can be from `}<em parentName=\"p\">{`any`}</em>{` package as long as its simple name is `}<inlineCode parentName=\"p\">{`Nullable`}</inlineCode>{`.\nFor example, it can be `}<inlineCode parentName=\"p\">{`@javax.annotation.Nullable`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`@org.checkerframework.checker.nullness.qual.Nullable`}</inlineCode>{` or\n`}<inlineCode parentName=\"p\">{`@io.reactivex.annotations.Nullable`}</inlineCode>{`.`}</p>\n    </Tip>\n    <p>{`If multiple parameters exist with the same name in a query string, they can be injected as a `}<inlineCode parentName=\"p\">{`List<?>`}</inlineCode>{`\nor `}<inlineCode parentName=\"p\">{`Set<?>`}</inlineCode>{`, e.g. `}<inlineCode parentName=\"p\">{`/hello1?number=1&number=2&number=3`}</inlineCode>{`. You can use `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Default:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Default.html\"\n      }}>{`type://@Default`}</a>{` annotation\nor `}<inlineCode parentName=\"p\">{`Optional<?>`}</inlineCode>{` class here, too.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n    @Get(\"/hello1\")\n    public HttpResponse hello1(@Param(\"number\") List<Integer> numbers) { ... }\n\n    // If there is no 'number' parameter, the default value \"1\" will be converted to\n    // Integer 1, then it will be added to the 'numbers' list.\n    @Get(\"/hello2\")\n    public HttpResponse hello2(@Param(\"number\") @Default(\"1\")\n                               List<Integer> numbers) { ... }\n\n    @Get(\"/hello3\")\n    public HttpResponse hello3(@Param(\"number\")\n                               Optional<List<Integer>> numbers) { ... }\n}\n`}</code></pre>\n    <p>{`If an HTTP `}<inlineCode parentName=\"p\">{`POST`}</inlineCode>{` request with a `}<inlineCode parentName=\"p\">{`Content-Type: x-www-form-urlencoded`}</inlineCode>{` header is received and\nno `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Param:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html\"\n      }}>{`type://@Param`}</a>{` value appears in the path pattern, Armeria will aggregate the received request and\ndecode its body as a URL-encoded form. After that, Armeria will inject the decoded value into the parameter.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n    @Post(\"/hello4\")\n    public HttpResponse hello4(@Param(\"name\") String name) {\n        // 'x-www-form-urlencoded' request will be aggregated.\n        // The other requests may get a '400 Bad Request' because\n        // there is no way to inject a mandatory parameter 'name'.\n    }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"getting-an-http-header\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#getting-an-http-header\",\n        \"aria-label\": \"getting an http header permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Getting an HTTP header`}</h3>\n    <p>{`Armeria also provides `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Header:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Header.html\"\n      }}>{`type://@Header`}</a>{` annotation to inject an HTTP header value into a parameter.\nThe parameter annotated with `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Header:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Header.html\"\n      }}>{`type://@Header`}</a>{` can also be specified as one of the built-in types as follows.\n`}<a parentName=\"p\" {...{\n        \"href\": \"type://@Default:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Default.html\"\n      }}>{`type://@Default`}</a>{` and `}<inlineCode parentName=\"p\">{`Optional<?>`}</inlineCode>{` are also supported. `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Header:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Header.html\"\n      }}>{`type://@Header`}</a>{` annotation also supports\n`}<inlineCode parentName=\"p\">{`List<?>`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`Set<?>`}</inlineCode>{` because HTTP headers can be added several times with the same name.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Get(\"/hello1\")\n    public HttpResponse hello1(@Header(\"Authorization\") String auth) { ... }\n\n    @Post(\"/hello2\")\n    public HttpResponse hello2(@Header(\"Content-Length\") long contentLength) { ... }\n\n    @Post(\"/hello3\")\n    public HttpResponse hello3(@Header(\"Forwarded\") List<String> forwarded) { ... }\n\n    @Post(\"/hello4\")\n    public HttpResponse hello4(@Header(\"Forwarded\")\n                               Optional<Set<String>> forwarded) { ... }\n}\n`}</code></pre>\n    <p>{`Note that you can omit the value of `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Header:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Header.html\"\n      }}>{`type://@Header`}</a>{` if you compiled your code with `}<inlineCode parentName=\"p\">{`-parameters`}</inlineCode>{` javac\noption. Read `}<a parentName=\"p\" {...{\n        \"href\": \"#parameter-injection\"\n      }}>{`Parameter injection`}</a>{` for more information.\nIn this case, the variable name is used as the value, but it will be converted to hyphen-separated lowercase\nstring to be suitable for general HTTP header names. e.g. a variable name `}<inlineCode parentName=\"p\">{`contentLength`}</inlineCode>{` or\n`}<inlineCode parentName=\"p\">{`content_length`}</inlineCode>{` will be converted to `}<inlineCode parentName=\"p\">{`content-length`}</inlineCode>{` as the value of `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Header:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Header.html\"\n      }}>{`type://@Header`}</a>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n    @Post(\"/hello2\")\n    public HttpResponse hello2(@Header long contentLength) { ... }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"other-classes-automatically-injected\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#other-classes-automatically-injected\",\n        \"aria-label\": \"other classes automatically injected permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Other classes automatically injected`}</h3>\n    <p>{`The following classes are automatically injected when you specify them on the parameter list of your method.`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://ServiceRequestContext:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html\"\n        }}>{`type://ServiceRequestContext`}</a>{` (or `}<a parentName=\"li\" {...{\n          \"href\": \"type://RequestContext:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html\"\n        }}>{`type://RequestContext`}</a>{`)`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://RequestHeaders:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestHeaders.html\"\n        }}>{`type://RequestHeaders`}</a>{` (or `}<a parentName=\"li\" {...{\n          \"href\": \"type://HttpHeaders:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpHeaders.html\"\n        }}>{`type://HttpHeaders`}</a>{`)`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://HttpRequest:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpRequest.html\"\n        }}>{`type://HttpRequest`}</a>{` (or `}<a parentName=\"li\" {...{\n          \"href\": \"type://Request:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/Request.html\"\n        }}>{`type://Request`}</a>{`)`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://AggregatedHttpRequest:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/AggregatedHttpRequest.html\"\n        }}>{`type://AggregatedHttpRequest`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://QueryParams:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/QueryParams.html\"\n        }}>{`type://QueryParams`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"type://Cookies:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/Cookies.html\"\n        }}>{`type://Cookies`}</a></li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Get(\"/hello1\")\n    public HttpResponse hello1(ServiceRequestContext ctx, HttpRequest req) {\n        // Use the context and request inside a method.\n    }\n\n    @Post(\"/hello2\")\n    public HttpResponse hello2(AggregatedHttpRequest aggregatedRequest) {\n        // Armeria aggregates the received HttpRequest and\n        // calls this method with the aggregated request.\n    }\n\n    @Get(\"/hello3\")\n    public HttpResponse hello3(QueryParams params) {\n        // 'params' holds the parameters parsed from a query string of a request.\n    }\n\n    @Post(\"/hello4\")\n    public HttpResponse hello4(QueryParams params) {\n        // If a request has a url-encoded form as its body,\n        // it can be accessed via 'params'.\n    }\n\n    @Post(\"/hello5\")\n    public HttpResponse hello5(Cookies cookies) {\n        // If 'Cookie' header exists, it will be injected into\n        // the specified 'cookies' parameter.\n    }\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"handling-exceptions\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#handling-exceptions\",\n        \"aria-label\": \"handling exceptions permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Handling exceptions`}</h2>\n    <p>{`It is often useful to extract exception handling logic from service methods into a separate common class.\nArmeria provides `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ExceptionHandler:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ExceptionHandler.html\"\n      }}>{`type://@ExceptionHandler`}</a>{` annotation to transform an exception into a response.\nYou can write your own exception handler by implementing `}<a parentName=\"p\" {...{\n        \"href\": \"type://ExceptionHandlerFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ExceptionHandlerFunction.html\"\n      }}>{`type://ExceptionHandlerFunction`}</a>{` interface and\nannotate your service object or method with `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ExceptionHandler:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ExceptionHandler.html\"\n      }}>{`type://@ExceptionHandler`}</a>{` annotation. Here is an example of\nan exception handler. If your exception handler is not able to handle a given exception, you can call\n`}<a parentName=\"p\" {...{\n        \"href\": \"type://ExceptionHandlerFunction#fallthrough():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ExceptionHandlerFunction.html#fallthrough()\"\n      }}>{`type://ExceptionHandlerFunction#fallthrough()`}</a>{` to pass the exception to the next exception handler.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyExceptionHandler implements ExceptionHandlerFunction {\n    @Override\n    public HttpResponse handleException(ServiceRequestContext ctx,\n                                        HttpRequest req, Throwable cause) {\n        if (cause instanceof MyServiceException) {\n            return HttpResponse.of(HttpStatus.CONFLICT);\n        }\n\n        // To the next exception handler.\n        return ExceptionHandlerFunction.fallthrough();\n    }\n}\n`}</code></pre>\n    <p>{`You can annotate at class level to catch an exception from every method in your service class.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@ExceptionHandler(MyExceptionHandler.class)\npublic class MyAnnotatedService {\n    @Get(\"/hello\")\n    public HttpResponse hello() { ... }\n}\n`}</code></pre>\n    <p>{`You can also annotate at method level to catch an exception from a single method in your service class.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n    @Get(\"/hello\")\n    @ExceptionHandler(MyExceptionHandler.class)\n    public HttpResponse hello() { ... }\n}\n`}</code></pre>\n    <p>{`If there is no exception handler which is able to handle an exception, the exception would be passed to\nthe default exception handler. It handles `}<inlineCode parentName=\"p\">{`IllegalArgumentException`}</inlineCode>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"type://HttpStatusException:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/HttpStatusException.html\"\n      }}>{`type://HttpStatusException`}</a>{` and\n`}<a parentName=\"p\" {...{\n        \"href\": \"type://HttpResponseException:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/HttpResponseException.html\"\n      }}>{`type://HttpResponseException`}</a>{` by default. `}<inlineCode parentName=\"p\">{`IllegalArgumentException`}</inlineCode>{` would be converted into\n`}<inlineCode parentName=\"p\">{`400 Bad Request`}</inlineCode>{` response, and the other two exceptions would be converted into a response with\nthe status code which they are holding. For another exceptions, `}<inlineCode parentName=\"p\">{`500 Internal Server Error`}</inlineCode>{` would be\nsent to the client.`}</p>\n    <h2 {...{\n      \"id\": \"conversion-between-an-http-message-and-a-java-object\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#conversion-between-an-http-message-and-a-java-object\",\n        \"aria-label\": \"conversion between an http message and a java object permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Conversion between an HTTP message and a Java object`}</h2>\n    <h3 {...{\n      \"id\": \"converting-an-http-request-to-a-java-object\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#converting-an-http-request-to-a-java-object\",\n        \"aria-label\": \"converting an http request to a java object permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Converting an HTTP request to a Java object`}</h3>\n    <p>{`In some cases like receiving a JSON document from a client, it may be useful to convert the document to\na Java object automatically. Armeria provides `}<a parentName=\"p\" {...{\n        \"href\": \"type://@RequestConverter:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestConverter.html\"\n      }}>{`type://@RequestConverter`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"type://@RequestObject:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestObject.html\"\n      }}>{`type://@RequestObject`}</a>{`\nannotations so that such conversion can be done conveniently.\nYou can write your own request converter by implementing `}<a parentName=\"p\" {...{\n        \"href\": \"type://RequestConverterFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestConverterFunction.html\"\n      }}>{`type://RequestConverterFunction`}</a>{` as follows.\nSimilar to the exception handler, you can call `}<a parentName=\"p\" {...{\n        \"href\": \"type://RequestConverterFunction#fallthrough():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestConverterFunction.html#fallthrough()\"\n      }}>{`type://RequestConverterFunction#fallthrough()`}</a>{` when your request\nconverter is not able to convert the request.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class ToEnglishConverter implements RequestConverterFunction {\n    @Override\n    public Object convertRequest(ServiceRequestContext ctx,\n                                 AggregatedHttpRequest request,\n                                 Class<?> expectedResultType) {\n        if (expectedResultType == Greeting.class) {\n            // Convert the request to a Java object.\n            return new Greeting(translateToEnglish(request.contentUtf8()));\n        }\n\n        // To the next request converter.\n        return RequestConverterFunction.fallthrough();\n    }\n\n    private String translateToEnglish(String greetingInAnyLanguage) { ... }\n}\n`}</code></pre>\n    <p>{`Then, you can write your service method as follows. Custom request objects will be converted automatically\nby the converters you registered with `}<a parentName=\"p\" {...{\n        \"href\": \"type://@RequestConverter:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestConverter.html\"\n      }}>{`type://@RequestConverter`}</a>{` annotation.\nNote that `}<a parentName=\"p\" {...{\n        \"href\": \"type://@RequestConverter:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestConverter.html\"\n      }}>{`type://@RequestConverter`}</a>{` annotation can be specified on a class, a method or a parameter\nin an annotated service, and its scope is determined depending on where it is specified.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@RequestConverter(ToEnglishConverter.class)\npublic class MyAnnotatedService {\n\n    @Post(\"/hello\")\n    public HttpResponse hello(Greeting greeting) {\n        // ToEnglishConverter will be used to convert a request.\n        // ...\n    }\n\n    @Post(\"/hola\")\n    @RequestConverter(ToSpanishConverter.class)\n    public HttpResponse hola(Greeting greeting) {\n        // ToSpanishConverter will be tried to convert a request first.\n        // ToEnglishConverter will be used if ToSpanishConverter fell through.\n        // ...\n    }\n\n    @Post(\"/greet\")\n    public HttpResponse greet(@RequestConverter(ToGermanConverter.class)\n                              Greeting greetingInGerman,\n                              Greeting greetingInEnglish) {\n        // For the 1st parameter 'greetingInGerman':\n        // ToGermanConverter will be tried to convert a request first.\n        // ToEnglishConverter will be used if ToGermanConverter fell through.\n        //\n        // For the 2nd parameter 'greetingInEnglish':\n        // ToEnglishConverter will be used to convert a request.\n        // ...\n    }\n}\n`}</code></pre>\n    <p>{`Armeria also provides built-in request converters such as, a request converter for a Java Bean,\n`}<a parentName=\"p\" {...{\n        \"href\": \"type://JacksonRequestConverterFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/JacksonRequestConverterFunction.html\"\n      }}>{`type://JacksonRequestConverterFunction`}</a>{` for a JSON document, `}<a parentName=\"p\" {...{\n        \"href\": \"type://StringRequestConverterFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/StringRequestConverterFunction.html\"\n      }}>{`type://StringRequestConverterFunction`}</a>{`\nfor a string and `}<a parentName=\"p\" {...{\n        \"href\": \"type://ByteArrayRequestConverterFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ByteArrayRequestConverterFunction.html\"\n      }}>{`type://ByteArrayRequestConverterFunction`}</a>{` for binary data. They will be applied\nafter your request converters, so you don't have to specify any `}<a parentName=\"p\" {...{\n        \"href\": \"type://@RequestConverter:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestConverter.html\"\n      }}>{`type://@RequestConverter`}</a>{` annotations:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    // JacksonRequestConverterFunction will work for the content type of\n    // 'application/json' or one of '+json' types.\n    @Post(\"/hello1\")\n    public HttpResponse hello1(JsonNode body) { ... }\n\n    @Post(\"/hello2\")\n    public HttpResponse hello2(MyJsonRequest body) { ... }\n\n    // StringRequestConverterFunction will work regardless of the content type.\n    @Post(\"/hello3\")\n    public HttpResponse hello3(String body) { ... }\n\n    @Post(\"/hello4\")\n    public HttpResponse hello4(CharSequence body) { ... }\n\n    // ByteArrayRequestConverterFunction will work regardless of the content type.\n    @Post(\"/hello5\")\n    public HttpResponse hello5(byte[] body) { ... }\n\n    @Post(\"/hello6\")\n    public HttpResponse hello6(HttpData body) { ... }\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"injecting-value-of-parameters-and-http-headers-into-a-java-object\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#injecting-value-of-parameters-and-http-headers-into-a-java-object\",\n        \"aria-label\": \"injecting value of parameters and http headers into a java object permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Injecting value of parameters and HTTP headers into a Java object`}</h4>\n    <p>{`Armeria provides a generic built-in request converter that converts a request into a Java object.\nJust define a plain old Java class and specify it as a parameter of your service method.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n    @Post(\"/hello\")\n    public HttpResponse hello(MyRequestObject myRequestObject) { ... }\n}\n`}</code></pre>\n    <p>{`We also need to define the `}<inlineCode parentName=\"p\">{`MyRequestObject`}</inlineCode>{` class which was used in the method `}<inlineCode parentName=\"p\">{`hello()`}</inlineCode>{` above.\nTo tell Armeria which constructor parameter, setter method or field has to be injected with what value,\nwe should put `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Param:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html\"\n      }}>{`type://@Param`}</a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Header:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Header.html\"\n      }}>{`type://@Header`}</a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"type://@RequestObject:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestObject.html\"\n      }}>{`type://@RequestObject`}</a>{` annotations on any of the following elements:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Fields`}</li>\n      <li parentName=\"ul\">{`Constructors with only one parameter`}</li>\n      <li parentName=\"ul\">{`Methods with only one parameter`}</li>\n      <li parentName=\"ul\">{`Constructor parameters`}</li>\n      <li parentName=\"ul\">{`Method parameters`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyRequestObject {\n    @Param(\"name\") // This field will be injected by the value of parameter \"name\".\n    private String name;\n\n    @Header(\"age\") // This field will be injected by the value of HTTP header \"age\".\n    private int age;\n\n    @RequestObject // This field will be injected by another request converter.\n    private MyAnotherRequestObject obj;\n\n    // You can omit the value of @Param or @Header if you compiled your code with\n    // \\`-parameters\\` javac option.\n    @Param // This field will be injected by the value of parameter \"gender\".\n    private String gender;\n\n    @Header // This field will be injected by the value of \"accept-language\" header.\n    private String acceptLanguage;\n\n    @Param(\"address\") // You can annotate a single-parameter method\n                      // with @Param or @Header.\n    public void setAddress(String address) { ... }\n\n    @Header(\"id\") // You can annotate a single-parameter constructor\n    @Default(\"0\") // with @Param or @Header.\n    public MyRequestObject(long id) { ... }\n\n    // You can annotate all parameters of method or constructor with @Param or @Header.\n    public void init(@Header(\"permissions\") String permissions,\n                     @Param(\"client-id\") @Default(\"0\") int clientId)\n}\n`}</code></pre>\n    <p>{`The usage of `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Param:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html\"\n      }}>{`type://@Param`}</a>{` or `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Header:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Header.html\"\n      }}>{`type://@Header`}</a>{` annotations on Java object elements is much like\nusing them on the parameters of a service method because even you can use `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Default:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Default.html\"\n      }}>{`type://@Default`}</a>{` and\n`}<a parentName=\"p\" {...{\n        \"href\": \"type://@RequestObject:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestObject.html\"\n      }}>{`type://@RequestObject`}</a>{` annotations defined there.\nPlease refer to `}<a parentName=\"p\" {...{\n        \"href\": \"#parameter-injection\"\n      }}>{`Parameter injection`}</a>{`, and\n`}<a parentName=\"p\" {...{\n        \"href\": \"#getting-an-http-header\"\n      }}>{`Getting an HTTP header`}</a>{` for more information.`}</p>\n    <h3 {...{\n      \"id\": \"converting-a-java-object-to-an-http-response\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#converting-a-java-object-to-an-http-response\",\n        \"aria-label\": \"converting a java object to an http response permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Converting a Java object to an HTTP response`}</h3>\n    <p>{`Every object returned by an annotated service method can be converted to an HTTP response message by\nresponse converters, except for `}<a parentName=\"p\" {...{\n        \"href\": \"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html\"\n      }}>{`type://HttpResponse`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"type://AggregatedHttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/AggregatedHttpResponse.html\"\n      }}>{`type://AggregatedHttpResponse`}</a>{` which are already\nin a form of response message. You can also write your own response converter by implementing\n`}<a parentName=\"p\" {...{\n        \"href\": \"type://ResponseConverterFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ResponseConverterFunction.html\"\n      }}>{`type://ResponseConverterFunction`}</a>{` as follows. Also similar to `}<a parentName=\"p\" {...{\n        \"href\": \"type://RequestConverterFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestConverterFunction.html\"\n      }}>{`type://RequestConverterFunction`}</a>{`,\nyou can call `}<inlineCode parentName=\"p\">{`ResponseConverterFunction.fallthrough()`}</inlineCode>{` when your response converter is not able to\nconvert the result to an `}<a parentName=\"p\" {...{\n        \"href\": \"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html\"\n      }}>{`type://HttpResponse`}</a>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyResponseConverter implements ResponseConverterFunction {\n    @Override\n    HttpResponse convertResponse(ServiceRequestContext ctx,\n                                 ResponseHeaders headers,\n                                 @Nullable Object result,\n                                 HttpHeaders trailers) throws Exception {\n        if (result instanceof MyObject) {\n            return HttpResponse.of(HttpStatus.OK,\n                                   MediaType.PLAIN_TEXT_UTF_8,\n                                   \"Hello, %s!\", ((MyObject) result).processedName(),\n                                   trailers);\n        }\n\n        // To the next response converter.\n        return ResponseConverterFunction.fallthrough();\n    }\n}\n`}</code></pre>\n    <p>{`You can annotate your service method and class as follows.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@ResponseConverter(MyResponseConverter.class)\npublic class MyAnnotatedService {\n\n    @Post(\"/hello\")\n    public MyObject hello() {\n        // MyResponseConverter will be used to make a response.\n        // ...\n    }\n\n    @Post(\"/hola\")\n    @ResponseConverter(MySpanishResponseConverter.class)\n    public MyObject hola() {\n        // MySpanishResponseConverter will be tried to convert MyObject\n        // to a response first, and then MyResponseConverter will be used\n        // if MySpanishResponseConverter fell through.\n        // ...\n    }\n}\n`}</code></pre>\n    <p>{`Armeria supports `}<a parentName=\"p\" {...{\n        \"href\": \"#media-type-negotiation\"\n      }}>{`Media type negotiation`}</a>{`. So you may want to get\na negotiated media type in order to set a `}<inlineCode parentName=\"p\">{`Content-Type`}</inlineCode>{` header on your response.\nIn this case, you can access it in your response converter as follows.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyResponseConverter implements ResponseConverterFunction {\n    @Override\n    HttpResponse convertResponse(ServiceRequestContext ctx,\n                                 ResponseHeaders headers,\n                                 @Nullable Object result,\n                                 HttpHeaders trailers) throws Exception {\n        MediaType mediaType = ctx.negotiatedResponseMediaType();\n        if (mediaType != null) {\n            // Do something based on the media type.\n            // ...\n        }\n    }\n}\n`}</code></pre>\n    <p>{`Even if you do not specify any `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ResponseConverter:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ResponseConverter.html\"\n      }}>{`type://@ResponseConverter`}</a>{` annotation, the response object can be converted into\nan `}<a parentName=\"p\" {...{\n        \"href\": \"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html\"\n      }}>{`type://HttpResponse`}</a>{` by one of the following response converters which performs the conversion based on\nthe negotiated media type and the type of the object.`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"type://JacksonResponseConverterFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/JacksonResponseConverterFunction.html\"\n          }}>{`type://JacksonResponseConverterFunction`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`converts an object to a JSON document if the negotiated media type is `}<inlineCode parentName=\"li\">{`application/json`}</inlineCode>{`.\n`}<inlineCode parentName=\"li\">{`JsonNode`}</inlineCode>{` object can be converted to a JSON document even if there is no media type negotiated.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"type://StringResponseConverterFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/StringResponseConverterFunction.html\"\n          }}>{`type://StringResponseConverterFunction`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`converts an object to a string if the negotiated main media type is one of `}<inlineCode parentName=\"li\">{`text`}</inlineCode>{` types.\nIf there is no media type negotiated, `}<inlineCode parentName=\"li\">{`String`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`CharSequence`}</inlineCode>{` object will be written as a text\nwith `}<inlineCode parentName=\"li\">{`Content-Type: text/plain; charset=utf-8`}</inlineCode>{` header.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"type://ByteArrayResponseConverterFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ByteArrayResponseConverterFunction.html\"\n          }}>{`type://ByteArrayResponseConverterFunction`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`converts an object to a byte array. Only `}<a parentName=\"li\" {...{\n              \"href\": \"type://HttpData:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpData.html\"\n            }}>{`type://HttpData`}</a>{` and `}<inlineCode parentName=\"li\">{`byte[]`}</inlineCode>{` will be handled\neven if the negotiated media type is `}<inlineCode parentName=\"li\">{`application/binary`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`application/octet-stream`}</inlineCode>{`.\nIf there is no media type negotiated, `}<a parentName=\"li\" {...{\n              \"href\": \"type://HttpData:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpData.html\"\n            }}>{`type://HttpData`}</a>{` and `}<inlineCode parentName=\"li\">{`byte[]`}</inlineCode>{` object will be written as a binary\nwith `}<inlineCode parentName=\"li\">{`Content-Type: application/binary`}</inlineCode>{` header.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <p>{`Let's see the following example about the default response conversion.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    // JacksonResponseConverterFunction will convert the return values\n    // to JSON documents:\n    @Get(\"/json1\")\n    @ProducesJson    // the same as @Produces(\"application/json; charset=utf-8\")\n    public MyObject json1() { ... }\n\n    @Get(\"/json2\")\n    public JsonNode json2() { ... }\n\n    // StringResponseConverterFunction will convert the return values to strings:\n    @Get(\"/string1\")\n    @ProducesText    // the same as @Produces(\"text/plain; charset=utf-8\")\n    public int string1() { ... }\n\n    @Get(\"/string2\")\n    public CharSequence string2() { ... }\n\n    // ByteArrayResponseConverterFunction will convert the return values\n    // to byte arrays:\n    @Get(\"/byte1\")\n    @ProducesBinary  // the same as @Produces(\"application/binary\")\n    public HttpData byte1() { ... }\n\n    @Get(\"/byte2\")\n    public byte[] byte2() { ... }\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"using-serverbuilder-to-configure-converters-and-exception-handlers\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#using-serverbuilder-to-configure-converters-and-exception-handlers\",\n        \"aria-label\": \"using serverbuilder to configure converters and exception handlers permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Using `}<inlineCode parentName=\"h2\">{`ServerBuilder`}</inlineCode>{` to configure converters and exception handlers`}</h2>\n    <p>{`You can specify converters and exception handlers using `}<a parentName=\"p\" {...{\n        \"href\": \"type://ServerBuilder:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerBuilder.html\"\n      }}>{`type://ServerBuilder`}</a>{`, without using the annotations\nexplained in the previous sections:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`sb.annotatedService(new MyAnnotatedService(),\n                    // Exception handlers\n                    new MyExceptionHandler(),\n                    // Converters\n                    new MyRequestConverter(), new MyResponseConverter());\n`}</code></pre>\n    <p>{`Also, they have a different method signature for conversion and exception handling so you can even write them\nin a single class and add it to your `}<a parentName=\"p\" {...{\n        \"href\": \"type://ServerBuilder:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerBuilder.html\"\n      }}>{`type://ServerBuilder`}</a>{` at once, e.g.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAllInOneHandler implements RequestConverterFunction,\n                                          ResponseConverterFunction,\n                                          ExceptionHandlerFunction {\n    @Override\n    public Object convertRequest(ServiceRequestContext ctx,\n                                 AggregatedHttpRequest request,\n                                 Class<?> expectedResultType) { ... }\n\n    @Override\n    HttpResponse convertResponse(ServiceRequestContext ctx,\n                                 ResponseHeaders headers,\n                                 @Nullable Object result,\n                                 HttpHeaders trailers) throws Exception { ... }\n\n    @Override\n    public HttpResponse handleException(ServiceRequestContext ctx,\n                                        HttpRequest req, Throwable cause) { ... }\n}\n\n// ...\n\nsb.annotatedService(new MyAnnotatedService(), new MyAllInOneHandler());\n`}</code></pre>\n    <p>{`When you specify exception handlers in a mixed manner like below, they will be evaluated in the following\norder commented. It is also the same as the evaluation order of the converters.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@ExceptionHandler(MyClassExceptionHandler3.class)           // order 3\n@ExceptionHandler(MyClassExceptionHandler4.class)           // order 4\npublic class MyAnnotatedService {\n    @Get(\"/hello\")\n    @ExceptionHandler(MyMethodExceptionHandler1.class)      // order 1\n    @ExceptionHandler(MyMethodExceptionHandler2.class)      // order 2\n    public HttpResponse hello() { ... }\n}\n\n// ...\n\nsb.annotatedService(new MyAnnotatedService(),\n                    new MyGlobalExceptionHandler5(),        // order 5\n                    new MyGlobalExceptionHandler6());       // order 6\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"returning-a-response\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#returning-a-response\",\n        \"aria-label\": \"returning a response permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Returning a response`}</h2>\n    <p>{`In the earlier examples, the annotated service methods only return `}<a parentName=\"p\" {...{\n        \"href\": \"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html\"\n      }}>{`type://HttpResponse`}</a>{`, however there are\nmore response types which can be used in the annotated service.`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html\"\n          }}>{`type://HttpResponse`}</a>{` and `}<a parentName=\"p\" {...{\n            \"href\": \"type://AggregatedHttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/AggregatedHttpResponse.html\"\n          }}>{`type://AggregatedHttpResponse`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`It will be sent to the client without any modification. If an exception is raised while the response is\nbeing sent, exception handlers will handle it. If no message has been sent to the client yet,\nthe exception handler can send an `}<a parentName=\"li\" {...{\n              \"href\": \"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html\"\n            }}>{`type://HttpResponse`}</a>{` instead.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"type://HttpResult:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/HttpResult.html\"\n          }}>{`type://HttpResult`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`It contains the `}<a parentName=\"li\" {...{\n              \"href\": \"type://HttpHeaders:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpHeaders.html\"\n            }}>{`type://HttpHeaders`}</a>{` and the object which can be converted into HTTP response body by\nresponse converters. A user can customize the HTTP status and headers including the trailers, with this type.`}</li>\n        </ul>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-java\"\n          }}>{`public class MyAnnotatedService {\n    @Get(\"/users\")\n    public HttpResult<List<User>> getUsers(@Param int start) {\n        List<User> users = ...;\n        ResponseHeaders headers = ResponseHeaders.builder()\n            .status(HttpStatus.OK)\n            .add(HttpHeaderNames.LINK,\n                 String.format(\"<https://example.com/users?from=%s>; rel=\\\\\"next\\\\\"\",\n                               start + 10))\n            .build();\n        return HttpResult.of(headers, users);\n    }\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Reactive Streams `}<a parentName=\"p\" {...{\n            \"href\": \"https://www.reactive-streams.org/reactive-streams-1.0.2-javadoc/org/reactivestreams/Publisher.html\"\n          }}>{`Publisher`}</a></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`All objects which are produced by the publisher will be collected, then the collected ones will be\nconverted to an `}<a parentName=\"li\" {...{\n              \"href\": \"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html\"\n            }}>{`type://HttpResponse`}</a>{` by response converters. If a single object is produced, it will be\npassed into the response converters as it is. But if multiple objects are produced, they will be passed\ninto the response converters as a list. If the producer produces an error, exception handlers will handle it.\nNote that RxJava `}<a parentName=\"li\" {...{\n              \"href\": \"http://reactivex.io/RxJava/javadoc/io/reactivex/ObservableSource.html\"\n            }}>{`ObservableSource`}</a>{`\nwill be treated in the same way as `}<a parentName=\"li\" {...{\n              \"href\": \"https://www.reactive-streams.org/reactive-streams-1.0.2-javadoc/org/reactivestreams/Publisher.html\"\n            }}>{`Publisher`}</a>{` if you add `}<inlineCode parentName=\"li\">{`armeria-rxjava`}</inlineCode>{` to the dependencies.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`CompletionStage`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`CompletableFuture`}</inlineCode></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`An object which is generated by the `}<inlineCode parentName=\"li\">{`CompletionStage`}</inlineCode>{` will be converted to an `}<a parentName=\"li\" {...{\n              \"href\": \"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html\"\n            }}>{`type://HttpResponse`}</a>{`\nby response converters. If the `}<inlineCode parentName=\"li\">{`CompletionStage`}</inlineCode>{` completes exceptionally, exception handlers will\nhandle the cause.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Other types`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`As described in\n`}<a parentName=\"li\" {...{\n              \"href\": \"#converting-a-java-object-to-an-http-response\"\n            }}>{`Converting a Java object to an HTTP response`}</a>{`,\nyou can use any response types with response converters that convert them.\nIf a service method raises an exception, exception handlers will handle it.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"decorating-an-annotated-service\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#decorating-an-annotated-service\",\n        \"aria-label\": \"decorating an annotated service permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Decorating an annotated service`}</h2>\n    <p>{`Every `}<a parentName=\"p\" {...{\n        \"href\": \"type://HttpService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/HttpService.html\"\n      }}>{`type://HttpService`}</a>{` can be wrapped by another `}<a parentName=\"p\" {...{\n        \"href\": \"type://HttpService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/HttpService.html\"\n      }}>{`type://HttpService`}</a>{` in Armeria (Refer to\n`}<a parentName=\"p\" {...{\n        \"href\": \"/docs/server-decorator\"\n      }}>{`Decorating a service`}</a>{` for more information).\nSimply, you can write your own decorator by\nimplementing `}<a parentName=\"p\" {...{\n        \"href\": \"type://DecoratingHttpServiceFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/DecoratingHttpServiceFunction.html\"\n      }}>{`type://DecoratingHttpServiceFunction`}</a>{` interface as follows.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyDecorator implements DecoratingHttpServiceFunction {\n    @Override\n    public HttpResponse serve(HttpService delegate,\n                              ServiceRequestContext ctx,\n                              HttpRequest req) {\n        // ... Do something ...\n        return delegate.serve(ctx, req);\n    }\n}\n`}</code></pre>\n    <p>{`Then, annotate your class or method with a `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Decorator:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Decorator.html\"\n      }}>{`type://@Decorator`}</a>{` annotation. In the following example,\n`}<inlineCode parentName=\"p\">{`MyDecorator`}</inlineCode>{` will handle a request first, then `}<inlineCode parentName=\"p\">{`AnotherDecorator`}</inlineCode>{` will handle the request next,\nand finally `}<inlineCode parentName=\"p\">{`hello()`}</inlineCode>{` method will handle the request.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@Decorator(MyDecorator.class)\npublic class MyAnnotatedService {\n    @Decorator(AnotherDecorator.class)\n    @Get(\"/hello\")\n    public HttpResponse hello() { ... }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"decorating-an-annotated-service-with-a-custom-decorator-annotation\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#decorating-an-annotated-service-with-a-custom-decorator-annotation\",\n        \"aria-label\": \"decorating an annotated service with a custom decorator annotation permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Decorating an annotated service with a custom decorator annotation`}</h3>\n    <p>{`As you read earlier, you can write your own decorator with `}<a parentName=\"p\" {...{\n        \"href\": \"type://DecoratingHttpServiceFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/DecoratingHttpServiceFunction.html\"\n      }}>{`type://DecoratingHttpServiceFunction`}</a>{` interface.\nIf your decorator does not require any parameter, that is fine. However, what if your decorator requires\na parameter? In this case, you can create your own decorator annotation. Let's see the following custom\ndecorator annotation which applies `}<a parentName=\"p\" {...{\n        \"href\": \"type://LoggingService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/logging/LoggingService.html\"\n      }}>{`type://LoggingService`}</a>{` to an annotated service.`}</p>\n    <Tip mdxType=\"Tip\">\n      <p>{`This example is actually just a copy of what Armeria provides out of the box. In reality,\nyou could just use `}<a parentName=\"p\" {...{\n          \"href\": \"type://@LoggingDecorator:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/decorator/LoggingDecorator.html\"\n        }}>{`type://@LoggingDecorator`}</a>{`, without writing your own one.`}</p>\n    </Tip>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@DecoratorFactory(LoggingDecoratorFactoryFunction.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.TYPE, ElementType.METHOD })\npublic @interface LoggingDecorator {\n\n    // Specify parameters for your decorator like below.\n    LogLevel requestLogLevel() default LogLevel.TRACE;\n\n    LogLevel successfulResponseLogLevel() default LogLevel.TRACE;\n\n    LogLevel failureResponseLogLevel() default LogLevel.WARN;\n\n    float samplingRate() default 1.0f;\n\n    // A special parameter in order to specify the order of a decorator.\n    int order() default 0;\n}\n\npublic final class LoggingDecoratorFactoryFunction\n        implements DecoratorFactoryFunction<LoggingDecorator> {\n\n    @Override\n    public Function<? super HttpService, ? extends HttpService>\n    newDecorator(LoggingDecorator parameter) {\n        return LoggingService\n            .builder()\n            .requestLogLevel(parameter.requestLogLevel())\n            .successfulResponseLogLevel(parameter.successfulResponseLogLevel())\n            .failureResponseLogLevel(parameter.failureResponseLogLevel())\n            .samplingRate(parameter.samplingRate())\n            .newDecorator();\n    }\n}\n`}</code></pre>\n    <p>{`You can see `}<a parentName=\"p\" {...{\n        \"href\": \"type://@DecoratorFactory:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/DecoratorFactory.html\"\n      }}>{`type://@DecoratorFactory`}</a>{` annotation at the first line of the example. It specifies\na factory class which implements `}<a parentName=\"p\" {...{\n        \"href\": \"type://DecoratorFactoryFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/DecoratorFactoryFunction.html\"\n      }}>{`type://DecoratorFactoryFunction`}</a>{` interface. The factory will create\nan instance of `}<a parentName=\"p\" {...{\n        \"href\": \"type://LoggingService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/logging/LoggingService.html\"\n      }}>{`type://LoggingService`}</a>{` with parameters which you specified on the class or method like below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n    @LoggingDecorator(requestLogLevel = LogLevel.INFO)\n    @Get(\"/hello1\")\n    public HttpResponse hello1() { ... }\n\n    @LoggingDecorator(requestLogLevel = LogLevel.DEBUG, samplingRate = 0.05)\n    @Get(\"/hello2\")\n    public HttpResponse hello2() { ... }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"evaluation-order-of-decorators\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#evaluation-order-of-decorators\",\n        \"aria-label\": \"evaluation order of decorators permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Evaluation order of decorators`}</h3>\n    <p>{`Note that the evaluation order of the decorators is slightly different from that of the converters and exception\nhandlers. As you read in `}<a parentName=\"p\" {...{\n        \"href\": \"#using-serverbuilder-to-configure-converters-and-exception-handlers\"\n      }}>{`Using ServerBuilder to configure converters and exception\nhandlers`}</a>{`,\nboth the converters and exception handlers are applied in the order of method-level ones,\nclass-level ones and global ones.\nUnlike them, decorators are applied in the opposite order as follows,\nbecause it is more understandable for a user to apply from the outer decorators to the inner decorators,\nwhich means the order of global decorators, class-level decorators and method-level decorators.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@Decorator(MyClassDecorator2.class)                 // order 2\n@Decorator(MyClassDecorator3.class)                 // order 3\npublic class MyAnnotatedService {\n\n    @Get(\"/hello\")\n    @Decorator(MyMethodDecorator4.class)            // order 4\n    @Decorator(MyMethodDecorator5.class)            // order 5\n    public HttpResponse hello() { ... }\n}\n\n// ...\n\nsb.annotatedService(new MyAnnotatedService(),\n                    new MyGlobalDecorator1());      // order 1\n`}</code></pre>\n    <p>{`The first rule is as explained before. However, if your own decorator annotations and `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Decorator:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Decorator.html\"\n      }}>{`type://@Decorator`}</a>{`\nannotations are specified in a mixed order like below, you need to clearly specify their order using `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Decorator#order():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Decorator.html#order()\"\n      }}>{`type://@Decorator#order()`}</a>{`\nattribute of the annotation. In the following example, you cannot make sure in what order they decorate\nthe service because Java collects repeatable annotations like `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Decorator:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Decorator.html\"\n      }}>{`type://@Decorator`}</a>{` into a single container\nannotation like `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Decorators:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Decorators.html\"\n      }}>{`type://@Decorators`}</a>{` so it does not know the specified order between `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Decorator:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Decorator.html\"\n      }}>{`type://@Decorator`}</a>{`\nand `}<a parentName=\"p\" {...{\n        \"href\": \"type://@LoggingDecorator:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/decorator/LoggingDecorator.html\"\n      }}>{`type://@LoggingDecorator`}</a>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Get(\"/hello\")\n    @Decorator(MyMethodDecorator1.class)\n    @LoggingDecorator\n    @Decorator(MyMethodDecorator2.class)\n    public HttpResponse hello() { ... }\n}\n`}</code></pre>\n    <p>{`To enforce the evaluation order of decorators, you can use `}<inlineCode parentName=\"p\">{`order()`}</inlineCode>{` attribute. Lower the order value is,\nearlier the decorator will be executed. The default value of `}<inlineCode parentName=\"p\">{`order()`}</inlineCode>{` attribute is `}<inlineCode parentName=\"p\">{`0`}</inlineCode>{`.\nThe `}<inlineCode parentName=\"p\">{`order()`}</inlineCode>{` attribute is applicable only to class-level and method-level decorators.`}</p>\n    <p>{`With the following example, the `}<inlineCode parentName=\"p\">{`hello()`}</inlineCode>{` will be executed with the following order:`}</p>\n    <ol>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`MyGlobalDecorator1`}</inlineCode></li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`MyMethodDecorator1`}</inlineCode></li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`LoggingDecorator`}</inlineCode></li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`MyMethodDecorator2`}</inlineCode></li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`MyAnnotatedService.hello()`}</inlineCode></li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Get(\"/hello\")\n    @Decorator(value = MyMethodDecorator1.class, order = 1)\n    @LoggingDecorator(order = 2)\n    @Decorator(value = MyMethodDecorator2.class, order = 3)\n    public HttpResponse hello() { ... }\n}\n\n// Global-level decorators will not be affected by 'order'.\nsb.annotatedService(new MyAnnotatedService(),\n                    new MyGlobalDecorator1());\n`}</code></pre>\n    <p>{`Note that you can even make a method-level decorator executed before a class-level decorator\nby adjusting the `}<inlineCode parentName=\"p\">{`order()`}</inlineCode>{` attribute:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@LoggingDecorator\npublic class MyAnnotatedService {\n\n    // LoggingDecorator -> MyMethodDecorator1 -> hello1()\n    @Get(\"/hello1\")\n    @Decorator(MyMethodDecorator1.class)\n    public HttpResponse hello1() { ... }\n\n    // MyMethodDecorator1 -> LoggingDecorator -> hello2()\n    @Get(\"/hello2\")\n    @Decorator(value = MyMethodDecorator1.class, order = -1)\n    public HttpResponse hello2() { ... }\n}\n`}</code></pre>\n    <p>{`If you built a custom decorator annotation like `}<a parentName=\"p\" {...{\n        \"href\": \"type://@LoggingDecorator:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/decorator/LoggingDecorator.html\"\n      }}>{`type://@LoggingDecorator`}</a>{`, it is recommended to\nadd an `}<inlineCode parentName=\"p\">{`order()`}</inlineCode>{` attribute so that the user of the custom annotation is able to adjust\nthe order value of the decorator:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public @interface MyDecoratorAnnotation {\n\n    // Define your attributes.\n    int myAttr1();\n\n    // A special parameter in order to specify the order of a decorator.\n    int order() default 0;\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"media-type-negotiation\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#media-type-negotiation\",\n        \"aria-label\": \"media type negotiation permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Media type negotiation`}</h2>\n    <p>{`Armeria provides `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Produces:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Produces.html\"\n      }}>{`type://@Produces`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Consumes:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Consumes.html\"\n      }}>{`type://@Consumes`}</a>{` annotations to support media type\nnegotiation. It is not necessary if you have only one service method for a path and an HTTP method.\nHowever, assume that you have multiple service methods for the same path and the same HTTP method as follows.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Get(\"/hello\")\n    public HttpResponse hello1() {\n        // Return a text document to the client.\n        return HttpResponse.of(HttpStatus.OK, MediaType.PLAIN_TEXT_UTF_8,\n                               \"Armeria\");\n    }\n\n    @Get(\"/hello\")\n    public HttpResponse hello2() {\n        // Return a JSON object to the client.\n        return HttpResponse.of(HttpStatus.OK, MediaType.JSON_UTF_8,\n                               \"{ \\\\\"name\\\\\": \\\\\"Armeria\\\\\" }\");\n    }\n}\n`}</code></pre>\n    <p>{`If the media type is not specified on any methods bound to the same path pattern, the first method declared will\nbe used and the other methods will be ignored. In this example, `}<inlineCode parentName=\"p\">{`hello1()`}</inlineCode>{` will be chosen and the client\nwill always receive a text document. What if you want to get a JSON object from the path `}<inlineCode parentName=\"p\">{`/hello`}</inlineCode>{`?\nYou can just specify the type of the content which your method produces as follows and add an `}<inlineCode parentName=\"p\">{`Accept`}</inlineCode>{` header\nto your client request.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Get(\"/hello\")\n    @Produces(\"text/plain\")\n    public HttpResponse helloText() {\n        // Return a text document to the client.\n        return HttpResponse.of(HttpStatus.OK, MediaType.PLAIN_TEXT_UTF_8,\n                               \"Armeria\");\n    }\n\n    @Get(\"/hello\")\n    @Produces(\"application/json\")\n    public HttpResponse helloJson() {\n        // Return a JSON object to the client.\n        return HttpResponse.of(HttpStatus.OK, MediaType.JSON_UTF_8,\n                               \"{ \\\\\"name\\\\\": \\\\\"Armeria\\\\\" }\");\n    }\n}\n`}</code></pre>\n    <p>{`A request like the following would get a text document:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-http\"\n      }}>{`GET /hello HTTP/1.1\nAccept: text/plain\n`}</code></pre>\n    <p>{`A request like the following would get a JSON object:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-http\"\n      }}>{`GET /hello HTTP/1.1\nAccept: application/json\n`}</code></pre>\n    <Warning mdxType=\"Warning\">\n      <p>{`Note that a `}<inlineCode parentName=\"p\">{`Content-Type`}</inlineCode>{` header of a response is not automatically set. You may want to get the\nnegotiated `}<a parentName=\"p\" {...{\n          \"href\": \"type://@Produces:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Produces.html\"\n        }}>{`type://@Produces`}</a>{` from `}<a parentName=\"p\" {...{\n          \"href\": \"type://ServiceRequestContext#negotiatedResponseMediaType():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html#negotiatedResponseMediaType()\"\n        }}>{`type://ServiceRequestContext#negotiatedResponseMediaType()`}</a>{` method and\nset it as the value of the `}<inlineCode parentName=\"p\">{`Content-Type`}</inlineCode>{` header of your response.`}</p>\n    </Warning>\n    <p>{`If a client sends a request without an `}<inlineCode parentName=\"p\">{`Accept`}</inlineCode>{` header (or sending an `}<inlineCode parentName=\"p\">{`Accept`}</inlineCode>{` header with an unsupported\ncontent type), it would be usually mapped to `}<inlineCode parentName=\"p\">{`helloJson()`}</inlineCode>{` method because the methods are sorted by the\nname of the type in an alphabetical order.`}</p>\n    <p>{`In this case, you can adjust the order of the methods with `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Order:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Order.html\"\n      }}>{`type://@Order`}</a>{` annotation. The default value of\n`}<a parentName=\"p\" {...{\n        \"href\": \"type://@Order:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Order.html\"\n      }}>{`type://@Order`}</a>{` annotation is `}<inlineCode parentName=\"p\">{`0`}</inlineCode>{`. If you set the value less than `}<inlineCode parentName=\"p\">{`0`}</inlineCode>{`, the method is used earlier than\nthe other methods, which means that it would be used as a default when there is no matched produce type.\nIn this example, it would also make the same effect to annotate `}<inlineCode parentName=\"p\">{`helloJson()`}</inlineCode>{` with `}<inlineCode parentName=\"p\">{`@Order(1)`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Order(-1)\n    @Get(\"/hello\")\n    @Produces(\"text/plain\")\n    public HttpResponse helloText() {\n        // Return a text document to the client.\n        return HttpResponse.of(HttpStatus.OK, MediaType.PLAIN_TEXT_UTF_8,\n                               \"Armeria\");\n    }\n\n    @Get(\"/hello\")\n    @Produces(\"application/json\")\n    public HttpResponse helloJson() {\n        // Return a JSON object to the client.\n        return HttpResponse.of(HttpStatus.OK, MediaType.JSON_UTF_8,\n                               \"{ \\\\\"name\\\\\": \\\\\"Armeria\\\\\" }\");\n    }\n}\n`}</code></pre>\n    <p>{`Next, let's learn how to handle a `}<inlineCode parentName=\"p\">{`Content-Type`}</inlineCode>{` header of a request. Assume that there are two service\nmethods that expect a text document and a JSON object as a content of a request, respectively.\nYou can annotate them with `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Consumes:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Consumes.html\"\n      }}>{`type://@Consumes`}</a>{` annotation.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Post(\"/hello\")\n    @Consumes(\"text/plain\")\n    public HttpResponse helloText(AggregatedHttpRequest request) {\n        // Get a text content by calling request.contentAscii().\n    }\n\n    @Post(\"/hello\")\n    @Consumes(\"application/json\")\n    public HttpResponse helloJson(AggregatedHttpRequest request) {\n        // Get a JSON object by calling request.contentUtf8().\n    }\n}\n`}</code></pre>\n    <p>{`A request like the following would be handled by `}<inlineCode parentName=\"p\">{`helloText()`}</inlineCode>{` method:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-http\"\n      }}>{`POST /hello HTTP/1.1\nContent-Type: text/plain\nContent-Length: 7\n\nArmeria\n`}</code></pre>\n    <p>{`A request like the following would be handled by `}<inlineCode parentName=\"p\">{`helloJson()`}</inlineCode>{` method:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-http\"\n      }}>{`POST /hello HTTP/1.1\nContent-Type: application/json\nContent-Length: 21\n\n{ \"name\": \"Armeria\" }\n`}</code></pre>\n    <p>{`However, if a client sends a request with a `}<inlineCode parentName=\"p\">{`Content-Type: application/octet-stream`}</inlineCode>{` header which is not\nspecified with `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Consumes:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Consumes.html\"\n      }}>{`type://@Consumes`}</a>{`, the client would get an HTTP status code of 415 which means\n`}<inlineCode parentName=\"p\">{`Unsupported Media Type`}</inlineCode>{`. If you want to make one of the methods catch-all, you can remove the annotation\nas follows. `}<inlineCode parentName=\"p\">{`helloCatchAll()`}</inlineCode>{` method would accept every request except for the request with a\n`}<inlineCode parentName=\"p\">{`Content-Type: application/json`}</inlineCode>{` header.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Post(\"/hello\")\n    public HttpResponse helloCatchAll(AggregatedHttpRequest request) {\n        // Get a content by calling request.content() and handle it as a text document or something else.\n    }\n\n    @Post(\"/hello\")\n    @Consumes(\"application/json\")\n    public HttpResponse helloJson(AggregatedHttpRequest request) {\n        // Get a JSON object by calling request.contentUtf8().\n    }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"creating-user-defined-media-type-annotations\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#creating-user-defined-media-type-annotations\",\n        \"aria-label\": \"creating user defined media type annotations permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Creating user-defined media type annotations`}</h3>\n    <p>{`Armeria provides pre-defined annotations such as `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ConsumesJson:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ConsumesJson.html\"\n      }}>{`type://@ConsumesJson`}</a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ConsumesText:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ConsumesText.html\"\n      }}>{`type://@ConsumesText`}</a>{`,\n`}<a parentName=\"p\" {...{\n        \"href\": \"type://@ConsumesBinary:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ConsumesBinary.html\"\n      }}>{`type://@ConsumesBinary`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ConsumesOctetStream:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ConsumesOctetStream.html\"\n      }}>{`type://@ConsumesOctetStream`}</a>{` which are aliases for\n`}<inlineCode parentName=\"p\">{`@Consumes(\"application/json; charset=utf-8\")`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`@Consumes(\"text/plain; charset=utf-8\")`}</inlineCode>{`,\n`}<inlineCode parentName=\"p\">{`@Consumes(\"application/binary\")`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`@Consumes(\"application/octet-stream\")`}</inlineCode>{` respectively.\nAlso, `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ProducesJson:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ProducesJson.html\"\n      }}>{`type://@ProducesJson`}</a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ProducesText:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ProducesText.html\"\n      }}>{`type://@ProducesText`}</a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ProducesBinary:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ProducesBinary.html\"\n      }}>{`type://@ProducesBinary`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ProducesOctetStream:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ProducesOctetStream.html\"\n      }}>{`type://@ProducesOctetStream`}</a>{`\nare provided in the same manner.`}</p>\n    <p>{`If there is no annotation that meets your need, you can define your own annotations for `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Consumes:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Consumes.html\"\n      }}>{`type://@Consumes`}</a>{`\nand `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Produces:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Produces.html\"\n      }}>{`type://@Produces`}</a>{` as follows. Specifying your own annotations is recommended because writing a media type\nwith a string is more error-prone.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.TYPE, ElementType.METHOD })\n@Consumes(\"application/xml\")\npublic @interface MyConsumableType {}\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.TYPE, ElementType.METHOD })\n@Produces(\"application/xml\")\npublic @interface MyProducibleType {}\n`}</code></pre>\n    <p>{`Then, you can annotate your service method with your annotation as follows.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n    @Post(\"/hello\")\n    @MyConsumableType  // the same as @Consumes(\"application/xml\")\n    @MyProducibleType  // the same as @Produces(\"application/xml\")\n    public MyResponse hello(MyRequest myRequest) { ... }\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"specifying-additional-response-headerstrailers\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#specifying-additional-response-headerstrailers\",\n        \"aria-label\": \"specifying additional response headerstrailers permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Specifying additional response headers/trailers`}</h2>\n    <p>{`Armeria provides a way to configure additional headers/trailers via annotation,\n`}<a parentName=\"p\" {...{\n        \"href\": \"type://@AdditionalHeader:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/AdditionalHeader.html\"\n      }}>{`type://@AdditionalHeader`}</a>{` for HTTP headers and `}<a parentName=\"p\" {...{\n        \"href\": \"type://@AdditionalTrailer:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/AdditionalTrailer.html\"\n      }}>{`type://@AdditionalTrailer`}</a>{` for HTTP trailers.`}</p>\n    <p>{`You can annotate your service method with the annotations as follows.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`import com.linecorp.armeria.server.annotation.AdditionalHeader;\nimport com.linecorp.armeria.server.annotation.AdditionalTrailer;\n\n@AdditionalHeader(name = \"custom-header\", value = \"custom-value\")\n@AdditionalTrailer(name = \"custom-trailer\", value = \"custom-value\")\npublic class MyAnnotatedService {\n    @Get(\"/hello\")\n    @AdditionalHeader(name = \"custom-header-2\", value = \"custom-value\")\n    @AdditionalTrailer(name = \"custom-trailer-2\", value = \"custom-value\")\n    public HttpResponse hello() { ... }\n}\n`}</code></pre>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"type://@AdditionalHeader:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/AdditionalHeader.html\"\n      }}>{`type://@AdditionalHeader`}</a>{` or `}<a parentName=\"p\" {...{\n        \"href\": \"type://@AdditionalTrailer:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/AdditionalTrailer.html\"\n      }}>{`type://@AdditionalTrailer`}</a>{` specified at the method level takes precedence over\nwhat's specified at the class level if it has the same name, e.g.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@AdditionalHeader(name = \"custom-header\", value = \"custom-value\")\n@AdditionalTrailer(name = \"custom-trailer\", value = \"custom-value\")\npublic class MyAnnotatedService {\n    @Get(\"/hello\")\n    @AdditionalHeader(name = \"custom-header\", value = \"custom-overwritten\")\n    @AdditionalTrailer(name = \"custom-trailer\", value = \"custom-overwritten\")\n    public HttpResponse hello() { ... }\n}\n`}</code></pre>\n    <p>{`In this case, the values of the HTTP header named `}<inlineCode parentName=\"p\">{`custom-header`}</inlineCode>{` and the HTTP trailer named\n`}<inlineCode parentName=\"p\">{`custom-trailer`}</inlineCode>{` will be `}<inlineCode parentName=\"p\">{`custom-overwritten`}</inlineCode>{`, not `}<inlineCode parentName=\"p\">{`custom-value`}</inlineCode>{`.`}</p>\n    <p>{`Note that the trailers will not be injected into the responses with the following HTTP status code,\nbecause they always have an empty content.`}</p>\n    <table><thead parentName=\"table\"><tr parentName=\"thead\"><th parentName=\"tr\" {...{\n            \"colspan\": 1,\n            \"rowspan\": 1\n          }}><p parentName=\"th\">{`Status code`}</p></th><th parentName=\"tr\" {...{\n            \"colspan\": 1,\n            \"rowspan\": 1\n          }}><p parentName=\"th\">{`Description`}</p></th></tr></thead><tbody parentName=\"table\"><tr parentName=\"tbody\"><td parentName=\"tr\" {...{\n            \"colspan\": 1,\n            \"rowspan\": 1\n          }}><p parentName=\"td\">{`204`}</p></td><td parentName=\"tr\" {...{\n            \"colspan\": 1,\n            \"rowspan\": 1\n          }}><p parentName=\"td\">{`No content`}</p></td></tr><tr parentName=\"tbody\"><td parentName=\"tr\" {...{\n            \"colspan\": 1,\n            \"rowspan\": 1\n          }}><p parentName=\"td\">{`205`}</p></td><td parentName=\"tr\" {...{\n            \"colspan\": 1,\n            \"rowspan\": 1\n          }}><p parentName=\"td\">{`Reset content`}</p></td></tr><tr parentName=\"tbody\"><td parentName=\"tr\" {...{\n            \"colspan\": 1,\n            \"rowspan\": 1\n          }}><p parentName=\"td\">{`304`}</p></td><td parentName=\"tr\" {...{\n            \"colspan\": 1,\n            \"rowspan\": 1\n          }}><p parentName=\"td\">{`Not modified`}</p></td></tr></tbody></table>\n    <h2 {...{\n      \"id\": \"using-a-composite-annotation\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#using-a-composite-annotation\",\n        \"aria-label\": \"using a composite annotation permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Using a composite annotation`}</h2>\n    <p>{`To avoid specifying a common set of annotations repetitively, you may want to create a composite annotation\nwhich is annotated by other annotations. For example, let's assume that there is a service class like the below:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Post(\"/create\")\n    @ConsumesJson\n    @ProducesJson\n    @LoggingDecorator\n    @MyAuthenticationDecorator\n    public HttpResponse create() { ... }\n\n    @Post(\"/update\")\n    @ConsumesJson\n    @ProducesJson\n    @LoggingDecorator\n    @MyAuthenticationDecorator\n    public HttpResponse update() { ... }\n}\n`}</code></pre>\n    <p>{`In the above example, you had to add the same 4 annotations to the two different methods. It is obviously\ntoo verbose and duplicate, so we could simplify them by creating a composite annotation like the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`@Retention(RetentionPolicy.RUNTIME)\n@ConsumesJson\n@ProducesJson\n@LoggingDecorator\n@MyAuthenticationDecorator\npublic @interface MyCreateOrUpdateApiSpec {}\n`}</code></pre>\n    <p>{`Now, let's rewrite the service class with the composite annotation. It is definitely less verbose than before.\nMoreover, you don't need to update both `}<inlineCode parentName=\"p\">{`create()`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`update()`}</inlineCode>{` but only `}<inlineCode parentName=\"p\">{`MyCreateOrUpdateApiSpec`}</inlineCode>{`\nwhen you add more common annotations to them.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyAnnotatedService {\n\n    @Post(\"/create\")\n    @MyCreateOrUpdateApiSpec\n    public HttpResponse create() { ... }\n\n    @Post(\"/update\")\n    @MyCreateOrUpdateApiSpec\n    public HttpResponse update() { ... }\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"specifying-the-service-name\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#specifying-the-service-name\",\n        \"aria-label\": \"specifying the service name permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Specifying the service name`}</h2>\n    <p>{`A service name is human-readable string that is often used as a meter tag or distributed trace's span name.\nBy default, an annotated service uses its class name as its service name.\nYou can override it by annotating a class or method with `}<a parentName=\"p\" {...{\n        \"href\": \"type://@ServiceName:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ServiceName.html\"\n      }}>{`type://@ServiceName`}</a>{` like the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class MyService {\n    @Get(\"/\")\n    public String get(ServiceRequestContext ctx) {\n        ctx.log().whenAvailable(RequestLogProperty.NAME).thenAccept(log -> {\n            assert log.serviceName().equals(MyService.class.getName());\n        });\n    }\n}\n\n// Override the default service name by the class annotation\n@ServiceName(\"my-service\")\npublic class MyService {\n    @Get(\"/\")\n    public String get(ServiceRequestContext ctx) {\n        ctx.log().whenAvailable(RequestLogProperty.NAME).thenAccept(log -> {\n            assert log.serviceName().equals(\"my-service\");\n        });\n    }\n\n    // Override the default service name by the method annotation\n    @ServiceName(\"my-post-service\")\n    @Post(\"/\")\n    public String post(ServiceRequestContext ctx) {\n        ctx.log().whenAvailable(RequestLogProperty.NAME).thenAccept(log -> {\n            assert log.serviceName().equals(\"my-post-service\");\n        });\n    }\n}\n\n// Or the default name could get overridden programmatically using a decorator.\nServerBuilder sb = Server.builder();\nsb.annotatedService(\"/\", new MyService(), service -> {\n    return service.decorate((delegate, ctx, req) -> {\n        ctx.logBuilder().name(\"my-decorated-service\", ctx.method().name());\n        return delegate.serve(ctx, req);\n    });\n});\n`}</code></pre>\n    <Tip mdxType=\"Tip\">\n      <p>{`You can also use `}<a parentName=\"p\" {...{\n          \"href\": \"type://RequestLogAccess#whenComplete():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestLogAccess.html#whenComplete()\"\n        }}>{`type://RequestLogAccess#whenComplete()`}</a>{` to access `}<a parentName=\"p\" {...{\n          \"href\": \"type://RequestOnlyLog#name():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestOnlyLog.html#name()\"\n        }}>{`type://RequestOnlyLog#name()`}</a>{`.\nPlease refer to `}<a parentName=\"p\" {...{\n          \"href\": \"/docs/advanced-structured-logging\"\n        }}>{`Structured logging`}</a>{`\nfor more information about RPC and HTTP service names, and how to use it.`}</p>\n    </Tip>\n    <h2 {...{\n      \"id\": \"kotlin-coroutines-support\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#kotlin-coroutines-support\",\n        \"aria-label\": \"kotlin coroutines support permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Kotlin coroutines support`}</h2>\n    <p>{`You can implement annotated services with `}<a parentName=\"p\" {...{\n        \"href\": \"https://kotlinlang.org/docs/reference/coroutines-overview.html\"\n      }}>{`Kotlin coroutines`}</a>{`\nby adding the following dependency:`}</p>\n    <RequiredDependencies boms={[{\n      groupId: 'com.linecorp.armeria',\n      artifactId: 'armeria-bom'\n    }]} dependencies={[{\n      groupId: 'com.linecorp.armeria',\n      artifactId: 'armeria-kotlin'\n    }]} mdxType=\"RequiredDependencies\" />\n    <p>{`Then, define the suspending function:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-kotlin\"\n      }}>{`class MyAnnotatedService {\n    @Get(\"/users/{name}\")\n    suspend fun getUserToken(@Param(\"name\") name: String): String {\n        val user = myReactiveRepository.findByName(name).await()\n        return user.token\n    }\n}\n`}</code></pre>\n    <p>{`Note that you can omit the value of `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Param:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html\"\n      }}>{`type://@Param`}</a>{` if you compiled your Kotlin code with `}<a parentName=\"p\" {...{\n        \"href\": \"https://kotlinlang.org/docs/reference/compiler-reference.html#-java-parameters\"\n      }}><inlineCode parentName=\"a\">{`java-parameters`}</inlineCode></a>{` option.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-kotlin\"\n      }}>{`class MyAnnotatedService {\n    @Get(\"/users/{name}\")\n    suspend fun getUserToken(@Param name: String): String { ... }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"coroutine-dispatcher\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#coroutine-dispatcher\",\n        \"aria-label\": \"coroutine dispatcher permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Coroutine dispatcher`}</h3>\n    <p>{`By default, Armeria uses a context-aware event loop as a `}<a parentName=\"p\" {...{\n        \"href\": \"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/\"\n      }}>{`coroutine dispatcher`}</a>{`.\nA context-aware blocking executor is used as a dispatcher if you annotate a service method with `}<a parentName=\"p\" {...{\n        \"href\": \"type://@Blocking:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Blocking.html\"\n      }}>{`type://@Blocking`}</a>{` or enable `}<a parentName=\"p\" {...{\n        \"href\": \"type://AnnotatedServiceBindingBuilder#useBlockingTaskExecutor(boolean):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/AnnotatedServiceBindingBuilder.html#useBlockingTaskExecutor(boolean)\"\n      }}>{`type://AnnotatedServiceBindingBuilder#useBlockingTaskExecutor(boolean)`}</a>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-kotlin\"\n      }}>{`serverBuilder\n    .annotatedService()\n    // Enable \\`useBlockingTaskExecutor\\`.\n    .useBlockingTaskExecutor(true)\n    .build(MyAnnotatedService())\n\n// or\n\nimport com.linecorp.armeria.server.annotation.Blocking\n\nclass MyAnnotatedService {\n    @Blocking\n    @Get(\"/blocking/users/{name}\")\n    suspend fun getUserTokenBlocking(@Param(\"name\") name: String): String {\n        val id = myReactiveClient.getId(name).await()\n        val user = myBlockingRepository.findById(id)\n        return user.token\n    }\n}\n`}</code></pre>\n    <Tip mdxType=\"Tip\">\n      <p>{`If you use `}<a parentName=\"p\" {...{\n          \"href\": \"/docs/advanced-logging\"\n        }}>{`Logback integration`}</a>{` or `}<a parentName=\"p\" {...{\n          \"href\": \"/docs/advanced-zipkin\"\n        }}>{`Zipkin integration`}</a>{`,\ncoroutines should be executed in a thread that is aware of `}<a parentName=\"p\" {...{\n          \"href\": \"type://RequestContext:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html\"\n        }}>{`type://RequestContext`}</a>{`.`}</p>\n    </Tip>\n    <h3 {...{\n      \"id\": \"coroutinecontextservice-decorator\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#coroutinecontextservice-decorator\",\n        \"aria-label\": \"coroutinecontextservice decorator permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a><inlineCode parentName=\"h3\">{`CoroutineContextService`}</inlineCode>{` decorator`}</h3>\n    <p>{`Armeria provides a way to configure a coroutine context of annotated service methods\nusing `}<a parentName=\"p\" {...{\n        \"href\": \"type://CoroutineContextService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/kotlin/CoroutineContextService.html\"\n      }}>{`type://CoroutineContextService`}</a>{` decorator.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-kotlin\"\n      }}>{`import com.linecorp.armeria.server.kotlin.CoroutineContextService\n\nserverBuilder\n    .annotatedService()\n    .decorator(CoroutineContextService.newDecorator { ctx ->\n        CoroutineName(ctx.config().defaultServiceName() ?: \"none\")\n    })\n    .build(MyAnnotatedService())\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}